{"version":3,"file":"static/js/790.5d6241d1.chunk.js","mappings":"uQACA,GAAgB,MAAQ,sBAAsB,OAAS,uBAAuB,QAAU,wBAAwB,KAAO,sB,SCsEvH,EAjEe,WAAO,IAAD,EACnB,GAAsCA,EAAAA,EAAAA,IAAgB,IAAtD,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAsCC,EAAAA,EAAAA,YAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACMC,EAAU,UAAGP,EAAYQ,IAAI,gBAAnB,QAA+B,GACzCC,GAAWC,EAAAA,EAAAA,MAoBjB,OATAC,EAAAA,EAAAA,YAAU,WACR,GAAKJ,EAAL,CACA,IAAMK,EAAc,mCAAG,qGACGC,EAAAA,EAAAA,IAAmBN,GADtB,OACfO,EADe,OAErBV,EAAeU,EAAUC,SAFJ,2CAAH,qDAIpBH,GALuB,CAMxB,GAAE,CAACL,KAGF,iBAAKS,UAAWC,EAAAA,MAAhB,WACE,kBAAMC,SAhBW,SAAAC,GACnBA,EAAMC,iBACNnB,EAAe,CAAEoB,MAAOhB,GACzB,EAaiCW,UAAWC,EAAAA,KAAzC,WACE,kBACEK,KAAK,OACLC,KAAMhB,EACNiB,MAAOnB,EACPoB,SAzBkB,SAAAN,GACxBb,EAAgBa,EAAMO,OAAOF,MAC9B,EAwBOR,UAAWC,EAAAA,MACXU,YAAY,gBAEd,mBAAQL,KAAK,SAASN,UAAWC,EAAAA,OAAjC,wBAIF,SAAC,EAAAW,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,eAAId,UAAWC,EAAAA,KAAf,SACId,EAGAA,EAAY4B,KAAI,SAAAC,GACd,OACE,eAAmBhB,UAAWC,EAAAA,QAA9B,UACE,SAAC,KAAD,CACEgB,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAM3B,GACfO,UAAWC,EAAAA,KAHb,SAKGe,EAAMK,OAASL,EAAMT,QANjBS,EAAME,GAUlB,KAdD,8BAoBX,C,+LCnEDI,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAS,mCAEFC,EAAmB,mCAAG,oGACVF,EAAAA,EAAAA,IAAU,+BAAiCC,GADjC,cAC3BE,EAD2B,yBAE1BA,EAASC,MAFiB,2CAAH,qDAKnB7B,EAAkB,mCAAG,WAAMQ,GAAN,uFACTiB,EAAAA,EAAAA,IACrB,yBAA2BC,EAAS,UAAYlB,EAAQ,WAF1B,cAC1BoB,EAD0B,yBAIzBA,EAASC,MAJgB,2CAAH,sDAOlBC,EAAiB,mCAAG,WAAMT,GAAN,uFACRI,EAAAA,EAAAA,IAAU,iBAAUJ,EAAV,aAA0BK,GAD5B,cACzBE,EADyB,yBAExBA,EAASC,MAFe,2CAAH,sDAKjBE,EAAiB,mCAAG,WAAMV,GAAN,uFACRI,EAAAA,EAAAA,IACrB,UAAYJ,EAAK,oBAAsBK,GAFV,cACzBE,EADyB,yBAIxBA,EAASC,MAJe,2CAAH,sDAOjBG,EAAiB,mCAAG,WAAMX,GAAN,uFACRI,EAAAA,EAAAA,IACrB,UAAYJ,EAAK,oBAAsBK,EAAS,WAFnB,cACzBE,EADyB,yBAIxBA,EAASC,MAJe,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"Movies_movie__HIhge\",\"button\":\"Movies_button__GcIka\",\"element\":\"Movies_element__zliWj\",\"link\":\"Movies_link__MzAfU\"};","import { Loader } from 'components/Loader/Loader';\nimport { Suspense, useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { fetchMoviesByQuery } from '../../services/api';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchQuery, setSearchQuery] = useSearchParams('');\n  const [foundMovies, setFoundMovies] = useState();\n  const [inputedQuery, setInputedQuery] = useState('');\n  const movieQuery = searchQuery.get('query') ?? '';\n  const location = useLocation();\n\n  const handleInputChange = event => {\n    setInputedQuery(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchQuery({ query: inputedQuery });\n  };\n\n  useEffect(() => {\n    if (!movieQuery) return;\n    const getFoundMovies = async () => {\n      const movieList = await fetchMoviesByQuery(movieQuery);\n      setFoundMovies(movieList.results);\n    };\n    getFoundMovies();\n  }, [movieQuery]);\n\n  return (\n    <div className={css.movie}>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input\n          type=\"text\"\n          name={movieQuery}\n          value={inputedQuery}\n          onChange={handleInputChange}\n          className={css.input}\n          placeholder=\"Movie name\"\n        ></input>\n        <button type=\"submit\" className={css.button}>\n          Search\n        </button>\n      </form>\n      <Suspense fallback={<Loader />}>\n        <ul className={css.list}>\n          {!foundMovies ? (\n            <></>\n          ) : (\n            foundMovies.map(movie => {\n              return (\n                <li key={movie.id} className={css.element}>\n                  <Link\n                    to={`/movies/${movie.id}`}\n                    state={{ from: location }}\n                    className={css.link}\n                  >\n                    {movie.title || movie.name}\n                  </Link>\n                </li>\n              );\n            })\n          )}\n        </ul>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst apiKey = 'befeaf2f7d22fb84137c789361663b87';\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get('/trending/movie/day?api_key=' + apiKey);\n  return response.data;\n};\n\nexport const fetchMoviesByQuery = async query => {\n  const response = await axios.get(\n    '/search/movie?api_key=' + apiKey + '&query=' + query + '&page=1'\n  );\n  return response.data;\n};\n\nexport const fetchMovieDetails = async id => {\n  const response = await axios.get(`/movie/${id}?api_key=` + apiKey);\n  return response.data;\n};\n\nexport const fetchMovieCredits = async id => {\n  const response = await axios.get(\n    '/movie/' + id + '/credits?api_key=' + apiKey\n  );\n  return response.data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const response = await axios.get(\n    '/movie/' + id + '/reviews?api_key=' + apiKey + '&page=1'\n  );\n  return response.data;\n};\n"],"names":["useSearchParams","searchQuery","setSearchQuery","useState","foundMovies","setFoundMovies","inputedQuery","setInputedQuery","movieQuery","get","location","useLocation","useEffect","getFoundMovies","fetchMoviesByQuery","movieList","results","className","css","onSubmit","event","preventDefault","query","type","name","value","onChange","target","placeholder","Suspense","fallback","Loader","map","movie","to","id","state","from","title","axios","apiKey","fetchTrendingMovies","response","data","fetchMovieDetails","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}